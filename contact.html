<!DOCTYPE html>
<html>
<head>
  <title>Faith-Based Editorial Services</title>
  <meta charset="utf-8" />

  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css"/>
  <link href="https://fonts.googleapis.com/css?family=Raleway|Roboto" rel="stylesheet">
  <link rel="stylesheet" type="text/css" href="main.css">
  <script type="text/javascript" src="script.js"></script>
</head>
<body>
    <nav class="navbar navbar-inverse">
        <div class="container-fluid">
          <div class="navbar-header">
            <a class="navbar-brand" href="#">Faith-Based Editorial Services<p>“WHATEVER YOU DO, WORK AT IT WITH ALL YOUR HEART, AS WORKING FOR THE LORD” (COL. 3:23, NIV).</p></a>
          </div>
          <ul class="nav navbar-nav">
          </ul>
          <ul class="nav navbar-nav navbar-right">
            <li><a href="index.html">home</a></li>          
            <li><a href="about.html">about</a></li>
            <li><a href="projects.html">projects</a></li>
            <li><a href="faq.html">faq</a></li>
            <li class="active"><a href="#"><span class="glyphicon glyphicon-user"></span> contact</a></li>
          </ul>
        </div>
      </nav> 
  <section class="jumbotron">
    <div class="container">
      <div class="row text-center">
        <h2>Contact Us</h2>
        <h3>Thank you for your interest in Faith-Based Editorial Services. I would love to help you! Please fill out the form below, and I will reply soon.</h3>
        <form id="serverless-contact-form">
          <input type="text" name="fname" placeholder="Name" class="form-name">
          <input type="text" name="email" placeholder="Email Address" class="form-email">
          <input type="text" name="title" placeholder="Project Title" class="form-title">
          <input type="text" name="genre" placeholder="Project Genre (fiction, biography, Bible study, etc.)." class="form-genre">
          <textarea rows="5" cols="60" name="plans" placeholder="Please tell me about your plans for your manuscript." class="form-plans"></textarea><br>
          <input type="submit" name="submit" value="Submit" class="form-submit">
        </form>
      </div>
    </div>
    
  
    <script type="text/javascript">
      // Adds an event listener to our form. When the form is submitted, it will send data to our Lambda function, which in turn, will send us an email.
      document.getElementById('serverless-contact-form').addEventListener('submit', sendDataToLambda);
      // Now for the good stuff. This is the function that will send our data to AWS.
      function sendDataToLambda(e) {
        e.preventDefault();
        // Gets the values of each field in our form. This is the data we'll send to our Lambda function.
        var formEmail = document.querySelector('.form-email').value;
        var formSubject = "Faith-Based Editorial Request from " + document.querySelector('.form-name').value;
        var formMessage = 
          document.querySelector('.form-name').value + " has submitted a request on your site. " + "\r\n\r\n" +
          "Project Title: " + document.querySelector('.form-title').value + "\r\n" +
          "Genre: " + document.querySelector('.form-genre').value + "\r\n\r\n" +
          "Project Plans: " + document.querySelector('.form-plans').value
        // This is the endpoint we created in our API Gateway. This is where we make our POST request, which calls our Lambda function.
        var endpoint = 'https://1jeax6zb6g.execute-api.us-east-1.amazonaws.com/prod/ContactFormLambda';
        // Remember those form values we just grabbed? We're going to put them into an object here.
        var body = {
          email: formEmail,
          subject: formSubject,
          message: formMessage
        }
        // Here, we instantiate our Request. This is a special object used by the Fetch API so it knows where to send data, what data to send, and how to send it.
        var lambdaRequest = new Request(endpoint, {
          method: 'POST',
          // Quick note: 'no-cors' mode is for development on localhost only!
          mode: 'no-cors',
          body: JSON.stringify(body)
        });
        // Call the Fetch API to make our request
        fetch(lambdaRequest)
          // This is where you can handle errors. This is just an example, so we won't cover that.
          .then(response => console.log(response))
          .catch(err => console.log(err));
      }
    </script>
  </section>
  <section class="container">
    <div class="row">
      <div class="col-sm-6">
        <p>[Working with my editor was] a two-month tutoring session. ... Bethany takes spaghetti on paper and somehow creates a work of art.</p>
        <p>Stephanie Huffman, When You Grow Up and Get ... Single</p>
      </div>
      <div class="col-sm-6">
        <p>Faith-Based Editorial Services ... thanks for your love of Jesus, your servants heart, and your valued partnership on my project.</p>
        <p>Linden Wolfe, Captivated by the King and His Kingdom.</p>
      </div>
    </div>
  </section>
  <footer class="container">
      <div class="row">
        <p class="col-sm-4">&copy; 2016 Faith-Based Editorial Services</p>
        <ul class="col-sm-8">
          <li class="col-sm-2">
            <a href="https://www.facebook.com/Faith-Based-Editorial-Services-161360460576010/" target="_blank"><img src="FB-fLogo-Blue-broadcast-2.png"> </a>
          </li>
          <li class="col-sm-2">
            <a href="https://www.linkedin.com/in/bethany-mcshurley-7078b625/" target="_blank"><img src="In-2C-41px-R.png"></a>
          </li>
        </ul>
      </div>
    </footer>
</body>

</html>